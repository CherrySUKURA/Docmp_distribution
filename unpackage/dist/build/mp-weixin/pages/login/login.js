(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"1a46":function(t,e,n){"use strict";n.r(e);var o=n("4fbf"),i=n("ea30");for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);n("1f9c");var a,l=n("f0c5"),u=Object(l["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],a);e["default"]=u.exports},"1f9c":function(t,e,n){"use strict";var o=n("c316"),i=n.n(o);i.a},"4fbf":function(t,e,n){"use strict";var o,i=function(){var t=this,e=t.$createElement;t._self._c},s=[];n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return o}))},c316:function(t,e,n){},dddf:function(t,e,n){"use strict";(function(t){n("6da9");o(n("66fd"));var e=o(n("1a46"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},ea30:function(t,e,n){"use strict";n.r(e);var o=n("fa5a"),i=n.n(o);for(var s in o)"default"!==s&&function(t){n.d(e,t,(function(){return o[t]}))}(s);e["default"]=i.a},fa5a:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{login:{username:"",password:""},PhoneLogin:{code:"",mobile:""},param:{mobile:""},choose:!0,ifSendChoose:!1,text:"发送验证码",myreg:/^(((13[0-9]{1})|(14[0-9]{1})|(17[0-9]{1})|(15[0-3]{1})|(15[4-9]{1})|(18[0-9]{1})|(199))+\d{8})$/}},onShow:function(){t.hideHomeButton()},methods:{RquestUserData:function(){if(this.choose){if(""==this.login.username)return this.$public_.showToast("请输入用户名","none",2e3,null),!1;if(""==this.login.password)return this.$public_.showToast("请输入密码","none",2e3,null),!1;this.$public_.loginRequestHttp("role/security/mini_program/login","Post",this.login,this.loginCallBack,this.defeat)}else{if(""==this.PhoneLogin.mobile)return this.$public_.showToast("请输入手机号","none",2e3,null),!1;if(!this.myreg.test(this.PhoneLogin.mobile))return this.$public_.showToast("请输入合法手机号！","none",2e3,null),!1;if(""==this.PhoneLogin.code)return this.$public_.showToast("请输入验证码","none",2e3,null),!1;this.$public_.loginRequestHttp("role/loginPhone","Post",this.PhoneLogin,this.loginCallBack,this.defeat)}},loginCallBack:function(e){var n=this;e.data.data.checkOut?t.setStorage({key:"token",data:e.header.Authorization,success:function(o){t.getStorage({key:"token",success:function(o){n.$public_.storagedata(o.data),e.data.data.phone?t.switchTab({url:"/pages/index/index",success:function(t){n.$public_.showToast("登录成功","success",2e3,null)}}):t.navigateTo({url:"../bindPhone/bindPhone"})}})}}):this.$public_.showToast(e.data.msg,"none",2e3,null)},sendChoose:function(){""!=this.PhoneLogin.mobile?this.myreg.test(this.PhoneLogin.mobile)?(this.param.mobile=this.PhoneLogin.mobile,this.$public_.loginRequestHttp("role/sendSmsCode/".concat(this.param.mobile),"Post",this.param,this.setCallBack,this.defeat)):this.$public_.showToast("请输入有效手机号码！","none",2e3,null):this.$public_.showToast("请输入手机号","none",2e3,null)},setCallBack:function(t){var e=this;if(t.data.data.checkOut){this.ifSendChoose||(this.ifSendChoose=!0,this.text=60),this.$public_.showToast(t.data.msg,"none",2e3,null);var n=setInterval((function(){e.text=e.text-1,0==e.text&&(clearInterval(n),e.text="重新发送",e.ifSendChoose=!1)}),1e3)}else this.$public_.showToast(t.data.msg,"none",2e3,null)},defeat:function(t){this.$public_.showToast(t.msg,"none",2e3,null)},chooseChange:function(){this.choose=!this.choose}}};e.default=n}).call(this,n("543d")["default"])}},[["dddf","common/runtime","common/vendor"]]]);