(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/details_list/details_list"],{"1a66":function(e,t,n){"use strict";(function(e){n("6da9");r(n("66fd"));var t=r(n("e484"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"416b":function(e,t,n){"use strict";var r=n("8e54"),i=n.n(r);i.a},"47f7":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("2f62");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=c(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,a=!0,l=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function c(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function(){n.e("components/xinyu-logistics/xinyu-logistics").then(function(){return resolve(n("0ed9"))}.bind(null,n)).catch(n.oe)},f={components:{logistics:u},data:function(){return{allChecked:!1,checkedAll:[],DJZT:"",details_list:[],after_list:[],scrollTop:0,old:{scrollTop:0},list:[],Order:[],index:{},addr:"",Parameter:{salesOrderNo:""}}},onShow:function(){this.Parameter.salesOrderNo=this.OrderNumbers,this.RequestData(this.Parameter)},methods:{RequestData:function(e){this.$public_.RequestHttp("order/dealerOrderInfo","Get",e,this.DealerInfoCallBack,this.defeat),this.$public_.RequestHttp("order/orderListDetails","Get",e,this.OrderListDetailsCallBack,this.defeat),this.$public_.RequestHttp("afterSales/afterSchedule","Get",e,this.afterScheduleCallBack,this.defeat)},DealerInfoCallBack:function(e){var t=e.data.data[0];this.addr=t.Add_Full,this.details_list=[{name:"单证号",ZD:t.Sales_Order_No},{name:"单据类型",ZD:t.Order_Type_Desc},{name:"单据状态",ZD:t.Order_Status_Desc},{name:"涉及包裹数",ZD:t.parcel_total},{name:"渠道商",ZD:t.simplified},{name:"收件人",ZD:t.Client_Name+" "+t.Client_Contact},{name:"省市区",ZD:t.Provinces},{name:"地址",ZD:t.Provinces}]},OrderListDetailsCallBack:function(e){var t,n,r=this,i=e.data.data,a=[];i.forEach((function(e,t){r.$public_.RequestHttp("order/lineStatus","Get",{lineStatus:e.lineStatus},(function(t){e.linepage=t.data.data[0].lineStatusDesc}),r.defeat),a.push(e)})),this.list=a,i.forEach((function(e,a){if(t=i[a].forwarderName?i[a].forwarderName.splice("-"):"无物流公司",n={delivery_status:i[a].parcelStatus,post_name:t,post_no:i[a].parcelNo,addr:"",list:[]},e.parcelInfo){var l=JSON.parse(e.parcelInfo).reverse();l.forEach((function(e,t){var r=e.AcceptTime.split(" "),i={time:e.AcceptTime,timeArr:r,context:e.AcceptStation,location:""};n.list.push(i)}))}r.Order.push(n)}))},afterScheduleCallBack:function(e){var t=e.data.data;this.after_list=t},defeat:function(e){console.log(e)},checkboxChange:function(e){var t=e.detail.value;this.checkedAll=t,this.checkedAll.length>0&&this.checkedAll.length==this.list.length?this.allChecked=!0:this.allChecked=!1},allChoose:function(e){var t=e.detail.value;if("all"==t[0]){this.allChecked=!0;var n,r=o(this.list);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(1!=i.lineStatus){var a=String(i.lineNo);this.checkedAll.includes(a)||this.checkedAll.push(a)}}}catch(l){r.e(l)}finally{r.f()}}else this.allChecked=!1,this.checkedAll=[]},afterSchedule:function(){0!=this.checkedAll.length?(this.$store.commit("checkedAllnew",this.checkedAll),this.$store.commit("detailsList",this.details_list),e.navigateTo({url:"/pages/afterSchedule/afterSchedule"})):this.$public_.showToast("请选择需提交的订单","none",2e3,null)},afterFeedbBack:function(t){this.$store.commit("afterList",t),e.navigateTo({url:"/pages/aftersales/aftersales"})},open:function(e){this.index=this.Order[e],this.index.addr=this.addr,this.$refs.details_popup.open()},close:function(){this.$refs.details_popup.close()},scroll:function(e){this.old.scrollTop+=e.detail.scrollTop}},computed:a({},(0,r.mapState)({OrderNumber:function(e){return e.OrderNumber}}),{OrderNumbers:function(){return this.OrderNumber}})};t.default=f}).call(this,n("543d")["default"])},"51b2":function(e,t,n){"use strict";var r={uniList:function(){return n.e("components/uni-list/uni-list").then(n.bind(null,"d237"))},uniListItem:function(){return n.e("components/uni-list-item/uni-list-item").then(n.bind(null,"8f6a"))},uniTag:function(){return n.e("components/uni-tag/uni-tag").then(n.bind(null,"86d4"))},uniPopup:function(){return Promise.all([n.e("common/vendor"),n.e("components/uni-popup/uni-popup")]).then(n.bind(null,"77c1"))}},i=function(){var e=this,t=e.$createElement,n=(e._self._c,e.__map(e.list,(function(t,n){var r=String(t.lineNo),i=e.checkedAll.includes(String(t.lineNo)),a=String(t.lineNo);return{$orig:e.__get_orig(t),m0:r,g0:i,m1:a}}))),r=e.__map(e.after_list,(function(t,n){var r=e.$public_.formatNumber(t.savRefund);return{$orig:e.__get_orig(t),g1:r}}));e.$mp.data=Object.assign({},{$root:{l0:n,l1:r}})},a=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}))},"8e54":function(e,t,n){},b9c8:function(e,t,n){"use strict";n.r(t);var r=n("47f7"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},e484:function(e,t,n){"use strict";n.r(t);var r=n("51b2"),i=n("b9c8");for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("416b");var l,o=n("f0c5"),c=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],l);t["default"]=c.exports}},[["1a66","common/runtime","common/vendor"]]]);